import { rest } from 'msw';

const userInfo = [
  {
    id: '657019133',
    name: '방성원',
    totalAsset: '3920000',
    stake: [
      'UCSLrpBAzr-ROVGHQ5EmxnUg,',
      'UCaO6VoaYJv4kS-TQO_M-N_g,',
      'UC-lHJZR3Gqxm24_Vd_AJ5Yw,',
      // 'UCOmHUn--16B90oW2L6FRR3A,',
      // 'UClRNDVO8093rmRTtLe4GEPw,',
    ],
    subscriber: [['106234', '107234', '108235', '109142', '109534', '110005', '111000']],
  },
];

const getMonthlyDataByCustomUrl = rest.get('/youtube/monthly/:customUrl', (req, res, ctx) => {
  console.log(req);
  const { customUrl } = req.params;
  const mockMonthlyData = {
    '@BLACKPINK': {
      view: {
        '2022-01': 9845049,
        '2022-02': 14071606,
        '2022-03': 77887615,
        '2022-04': 60794049,
        '2022-05': 50670881,
        '2022-06': 69936192,
        '2022-07': 59537322,
        '2022-08': 55689639,
        '2022-09': 39110189,
        '2022-10': 29778671,
        '2022-11': 33157793,
        '2022-12': 2070070552,
      },
      subscriber: {
        '2022-01': 111000000,
        '2022-02': 111000000,
        '2022-03': 111000000,
        '2022-04': 111000000,
        '2022-05': 111000000,
        '2022-06': 111000000,
        '2022-07': 111000000,
        '2022-08': 111000000,
        '2022-09': 111000000,
        '2022-10': 111000000,
        '2022-11': 111000000,
        '2022-12': 111000000,
      },
    },
    '@JBKWAK': {
      view: {
        '2022-01': 317265,
        '2022-02': 252021,
        '2022-03': 689944,
        '2022-04': 568825,
        '2022-05': 318804,
        '2022-06': 247234,
        '2022-07': 282406,
        '2022-08': 297282,
        '2022-09': 813576,
        '2022-10': 820592,
        '2022-11': 742370,
        '2022-12': 475842,
      },
      subscriber: {
        '2022-01': 41400,
        '2022-02': 49300,
        '2022-03': 53400,
        '2022-04': 61700,
        '2022-05': 67900,
        '2022-06': 71200,
        '2022-07': 74000,
        '2022-08': 77700,
        '2022-09': 81300,
        '2022-10': 93300,
        '2022-11': 112000,
        '2022-12': 116000,
      },
    },
    '@clem': {
      view: {
        '2022-01': 1415316,
        '2022-02': 1470166,
        '2022-03': 1815471,
        '2022-04': 1303975,
        '2022-05': 2604199,
        '2022-06': 1690408,
        '2022-07': 1754942,
        '2022-08': 1631708,
        '2022-09': 1605292,
        '2022-10': 1687833,
        '2022-11': 1234845,
        '2022-12': 357327,
      },
      subscriber: {
        '2022-01': 406000,
        '2022-02': 415000,
        '2022-03': 424000,
        '2022-04': 433000,
        '2022-05': 446000,
        '2022-06': 455000,
        '2022-07': 466000,
        '2022-08': 476000,
        '2022-09': 483000,
        '2022-10': 489000,
        '2022-11': 494000,
        '2022-12': 497000,
      },
    },
  };
  return res(ctx.status(200), ctx.json({ data: mockMonthlyData[customUrl] }));
});

export const handlers = [
  getMonthlyDataByCustomUrl,
  rest.get('/userInfo', (req, res, ctx) => {
    return res(ctx.status(200), ctx.json({ data: userInfo }));
  }),
  rest.post('/userInfo', (req, res, ctx) => {
    userInfo.push(req.body);
    return res(ctx.status(201));
  }),
];
